<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title></title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="../styles/common.css">
		<link rel="stylesheet" href="../styles/dashboard.css">
		<script src="../scripts/theme.js" defer></script>
		<script src="../scripts/dashboard.js" defer></script>
        <script src="../scripts/info.js" defer></script>
	</head>
	<body>
		<nav>
			<a href="dashboard.html">HOME</a>
			<a href="explore.html">EXPLORE</a>
			<a href="profile.html">PROFILE</a>
			<a href="settings.html">SETTINGS</a>
			<form action="/api/logout" method="post" style="display: inline;">
				<button type="submit" id="logout-button">
					<img src="../icons/logout.svg" alt="Logout">
				</button>
			</form>
		</nav>

		<main>
			<div class="info-section">
				<h2>Balance: $<span id="user-balance">-</span></h2>
				<h2>Value: $<span id="portfolio-value">-</span></h2>
				<h2>Profit/Loss: $<span id="profit-loss">-</span></h2>
			</div>

			<div class="main-section">
				<h1>My Portfolio</h1>
				<h2>Balance: $<span id="user-balance-dashboard">-</span></h2>
				<h2>Value: $<span id="portfolio-value-dashboard">-</span></h2>
				<button id="add-funds">Add Funds</button>
				<h1>Owned stocks</h1>
				<div class="card">
					<table id="stocks-table">
						<thead>
							<tr></tr>
						</thead>
						<tbody></tbody>
					</table>
				</div>
			</div>
		</main>

		<div class="modal-overlay hidden" id="sell-modal">
			<div class="modal-content">
				<h2>Stock Details</h2>
				<div id="stock-details-content">
					<div class="row">
						<strong id="detail-stock-symbol">-</strong>
						<strong id="detail-stock-price">-</strong>
					</div>
					<div class="row">
						<p>Your balance: $<span id="balance-modal">-</span></p>
					</div>
					<div class="row">
						<p>Owned Quantity: <span id="quantity-owned-modal">0</span></p>
						<p>Average Price: $<span id="average-price-modal">0.00</span></p>
					</div>
					<div class="row">
						<p>Current Price: $<span id="current-price-modal">0.00</span></p>
						<p>Profit/Loss: $<span id="profit-loss-modal">0.00</span></p>
					</div>
					<div class="row">
						<input
							class="modal-input"
							type="number"
							id="quantity-input-modal"
							placeholder="Quantity to sell"
							min="1"
						>
					</div>
					<div class="row">
						<p id="error-modal" class="hidden"></p>
					</div>
					<div class="row">
						<button class="modal-button" id="close-modal">Close</button>
						<button class="modal-button" id="sell-stock-modal">Sell</button>
					</div>
				</div>
			</div>
		</div>

		<div class="hidden modal-overlay" id="add-funds-modal">
			<div class="modal-content">
				<h2>Add Funds</h2>
				<div class="row">
					<p>Current balance: $<span id="current-balance">-</span><p>
				</div>
				<div class="row">
					<input
						class="modal-input"
						type="number"
						id="add-funds-input-modal"
						placeholder="Amount to add"
						min="1"
					>
				</div>
				<div class="row">
					<p id="funds-error-modal" class="hidden"></p>
				</div>
				<div class="row">
					<button class="modal-button" id="close-funds-modal">Close</button>
					<button class="modal-button" id="add-funds-submit">Add Funds</button>
				</div>
			</div>
		</div>
	</body>
</html>
